<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>14天天气预报</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif;
        }
      
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #1a2a6c);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }
      
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
      
        header {
            text-align: center;
            padding: 30px 0;
            color: white;
        }
      
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
      
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
      
        .search-container {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 25px;
            margin: 20px auto;
            max-width: 600px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.2);
        }
      
        .search-box {
            display: flex;
            gap: 15px;
        }
      
        .search-box input {
            flex: 1;
            padding: 14px 20px;
            border: 2px solid #ddd;
            border-radius: 50px;
            font-size: 1.1rem;
            transition: all 0.3s;
        }
      
        .search-box input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.5);
        }
      
        .search-box button {
            padding: 14px 35px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: bold;
            transition: all 0.3s;
        }
      
        .search-box button:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
      
        .current-weather {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
            box-shadow: 0 8px 30px rgba(0,0,0,0.2);
        }
      
        .location {
            font-size: 2.2rem;
            margin-bottom: 10px;
            color: #2c3e50;
        }
      
        .date {
            font-size: 1.2rem;
            color: #7f8c8d;
            margin-bottom: 20px;
        }
      
        .current-details {
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }
      
        .temperature {
            font-size: 4.5rem;
            font-weight: bold;
            color: #e74c3c;
        }
      
        .weather-icon {
            font-size: 5rem;
            margin-bottom: 15px;
        }
      
        .weather-description {
            font-size: 1.8rem;
            color: #2c3e50;
            margin-bottom: 10px;
        }
      
        .weather-details {
            display: flex;
            flex-direction: column;
            gap: 10px;
            font-size: 1.1rem;
            color: #34495e;
        }
      
        .forecast-title {
            color: white;
            font-size: 1.8rem;
            text-align: center;
            margin: 30px 0 20px;
        }
      
        .forecast-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
      
        .forecast-day {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 20px 15px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
      
        .forecast-day:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }
      
        .forecast-date {
            font-weight: bold;
            margin-bottom: 10px;
            color: #2c3e50;
        }
      
        .forecast-icon {
            font-size: 2.5rem;
            margin: 10px 0;
        }
      
        .forecast-temp {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }
      
        .max-temp {
            color: #e74c3c;
            font-weight: bold;
        }
      
        .min-temp {
            color: #3498db;
            font-weight: bold;
        }
      
        .additional-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
      
        .info-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
      
        .info-title {
            font-size: 1.2rem;
            color: #2c3e50;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
      
        .info-content {
            font-size: 1.8rem;
            font-weight: bold;
            color: #2980b9;
            text-align: center;
        }
      
        footer {
            text-align: center;
            color: rgba(255, 255, 255, 0.7);
            padding: 20px;
            font-size: 0.9rem;
        }
      
        .error-message {
            background: rgba(231, 76, 60, 0.9);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            display: none;
        }
      
        .loading {
            text-align: center;
            padding: 30px;
            display: none;
        }
      
        .spinner {
            border: 5px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 5px solid #3498db;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
      
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
      
        /* 响应式设计 */
        @media (max-width: 768px) {
            .search-box {
                flex-direction: column;
            }
          
            h1 {
                font-size: 2.2rem;
            }
          
            .temperature {
                font-size: 3.5rem;
            }
          
            .forecast-container {
                grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
            }
        }
      
        @media (max-width: 480px) {
            .forecast-container {
                grid-template-columns: repeat(2, 1fr);
            }
          
            .current-details {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>14天天气预报</h1>
            <p class="subtitle">输入城市名称，获取未来两周精准天气预报</p>
        </header>
      
        <div class="search-container">
            <div class="search-box">
                <input type="text" id="city-input" placeholder="输入城市名称，例如：北京" value="北京">
                <button id="search-btn">查询天气</button>
            </div>
        </div>
      
        <div class="error-message" id="error-message">
            无法获取该城市的天气数据，请检查城市名称是否正确
        </div>
      
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p>正在获取天气数据...</p>
        </div>
      
        <div class="current-weather" id="current-weather">
            <h2 class="location" id="location">北京市</h2>
            <p class="date" id="current-date">2025年8月4日</p>
            <div class="current-details">
                <div>
                    <div class="weather-icon" id="current-icon">☀️</div>
                    <p class="weather-description" id="current-description">晴朗</p>
                </div>
                <div class="temperature" id="current-temp">28°C</div>
                <div class="weather-details">
                    <p>湿度: <span id="humidity">65%</span></p>
                    <p>风速: <span id="wind-speed">12 km/h</span></p>
                    <p>气压: <span id="pressure">1012 hPa</span></p>
                    <p>体感温度: <span id="feels-like">29°C</span></p>
                </div>
            </div>
        </div>
      
        <h2 class="forecast-title">未来14天预报</h2>
        <div class="forecast-container" id="forecast-container">
            <!-- 天气预报卡片将通过JavaScript动态生成 -->
        </div>
      
        <div class="additional-info">
            <div class="info-card">
                <h3 class="info-title">🌡️ 平均最高温</h3>
                <p class="info-content" id="avg-high">28°C</p>
            </div>
            <div class="info-card">
                <h3 class="info-title">❄️ 平均最低温</h3>
                <p class="info-content" id="avg-low">19°C</p>
            </div>
            <div class="info-card">
                <h3 class="info-title">🌧️ 预计降雨日</h3>
                <p class="info-content" id="rainy-days">3天</p>
            </div>
            <div class="info-card">
                <h3 class="info-title">🌞 预计晴天</h3>
                <p class="info-content" id="sunny-days">8天</p>
            </div>
        </div>
      
        <footer>
            <p>© 2025 天气预测 | 数据更新于2025年8月4日 | 使用模拟数据展示</p>
        </footer>
    </div>

    <script>
        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', function() {
            // 设置当前日期
            const now = new Date();
            const options = { year: 'numeric', month: 'long', day: 'numeric', weekday: 'long' };
            document.getElementById('current-date').textContent = now.toLocaleDateString('zh-CN', options);
          
            // 添加搜索按钮事件监听
            document.getElementById('search-btn').addEventListener('click', searchWeather);
          
            // 添加输入框回车事件监听
            document.getElementById('city-input').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    searchWeather();
                }
            });
          
            // 初始加载北京天气
            getWeatherData('北京');
        });

        // 搜索天气函数
        function searchWeather() {
            const city = document.getElementById('city-input').value.trim();
            if (city) {
                getWeatherData(city);
            } else {
                showError('请输入城市名称');
            }
        }

        // 显示错误信息
        function showError(message) {
            const errorElement = document.getElementById('error-message');
            errorElement.textContent = message;
            errorElement.style.display = 'block';
          
            // 3秒后隐藏错误信息
            setTimeout(() => {
                errorElement.style.display = 'none';
            }, 3000);
        }

        // 获取天气数据（实际应用中应调用天气API，这里使用模拟数据）
        function getWeatherData(city) {
            // 显示加载状态
            document.getElementById('loading').style.display = 'block';
            document.getElementById('current-weather').style.display = 'none';
            document.getElementById('forecast-container').innerHTML = '';
            document.getElementById('error-message').style.display = 'none';
          
            // 模拟API延迟
            setTimeout(() => {
                // 生成模拟天气数据
                const weatherData = generateMockWeatherData(city);
              
                // 隐藏加载状态
                document.getElementById('loading').style.display = 'none';
              
                // 更新页面数据
                updateWeatherUI(weatherData);
            }, 800);
        }

        // 生成模拟天气数据
        function generateMockWeatherData(city) {
            const weatherConditions = ['晴', '多云', '小雨', '中雨', '大雨', '雷阵雨', '阴', '小雪', '中雪', '大雪'];
            const weatherIcons = ['☀️', '⛅', '🌧️', '🌧️', '🌧️', '⛈️', '☁️', '🌨️', '🌨️', '🌨️'];
          
            const weatherData = {
                location: city,
                current: {
                    temp: Math.floor(Math.random() * 15) + 20, // 20-35°C
                    description: weatherConditions[Math.floor(Math.random() * 10)],
                    humidity: Math.floor(Math.random() * 40) + 40, // 40-80%
                    windSpeed: Math.floor(Math.random() * 20) + 5, // 5-25 km/h
                    pressure: Math.floor(Math.random() * 20) + 990, // 990-1010 hPa
                    feelsLike: Math.floor(Math.random() * 5) + 20 // 20-25°C
                },
                forecast: []
            };
          
            // 生成14天预报数据
            const now = new Date();
            let totalHigh = 0;
            let totalLow = 0;
            let rainyDays = 0;
            let sunnyDays = 0;
          
            for (let i = 0; i < 14; i++) {
                const date = new Date();
                date.setDate(now.getDate() + i);
              
                const conditionIndex = Math.floor(Math.random() * 10);
                const condition = weatherConditions[conditionIndex];
                const icon = weatherIcons[conditionIndex];
              
                const highTemp = Math.floor(Math.random() * 10) + 25; // 25-35°C
                const lowTemp = highTemp - Math.floor(Math.random() * 10) - 5; // 15-30°C
              
                totalHigh += highTemp;
                totalLow += lowTemp;
              
                if (condition.includes('雨')) rainyDays++;
                if (condition === '晴') sunnyDays++;
              
                weatherData.forecast.push({
                    date: date.toLocaleDateString('zh-CN', { month: 'numeric', day: 'numeric', weekday: 'short' }),
                    condition: condition,
                    icon: icon,
                    highTemp: highTemp,
                    lowTemp: lowTemp
                });
            }
          
            // 计算平均值
            weatherData.avgHigh = Math.round(totalHigh / 14);
            weatherData.avgLow = Math.round(totalLow / 14);
            weatherData.rainyDays = rainyDays;
            weatherData.sunnyDays = sunnyDays;
          
            return weatherData;
        }

        // 更新天气UI
        function updateWeatherUI(data) {
            // 更新位置信息
            document.getElementById('location').textContent = data.location;
          
            // 更新当前天气
            document.getElementById('current-description').textContent = data.current.description;
            document.getElementById('current-icon').textContent = getWeatherIcon(data.current.description);
            document.getElementById('current-temp').textContent = `${data.current.temp}°C`;
            document.getElementById('humidity').textContent = `${data.current.humidity}%`;
            document.getElementById('wind-speed').textContent = `${data.current.windSpeed} km/h`;
            document.getElementById('pressure').textContent = `${data.current.pressure} hPa`;
            document.getElementById('feels-like').textContent = `${data.current.feelsLike}°C`;
          
            // 显示当前天气区块
            document.getElementById('current-weather').style.display = 'block';
          
            // 更新14天预报
            const forecastContainer = document.getElementById('forecast-container');
            forecastContainer.innerHTML = '';
          
            data.forecast.forEach(day => {
                const dayElement = document.createElement('div');
                dayElement.className = 'forecast-day';
                dayElement.innerHTML = `
                    <div class="forecast-date">${day.date}</div>
                    <div class="forecast-icon">${day.icon}</div>
                    <div class="weather-description">${day.condition}</div>
                    <div class="forecast-temp">
                        <span class="max-temp">${day.highTemp}°</span>
                        <span class="min-temp">${day.lowTemp}°</span>
                    </div>
                `;
                forecastContainer.appendChild(dayElement);
            });
          
            // 更新统计信息
            document.getElementById('avg-high').textContent = `${data.avgHigh}°C`;
            document.getElementById('avg-low').textContent = `${data.avgLow}°C`;
            document.getElementById('rainy-days').textContent = `${data.rainyDays}天`;
            document.getElementById('sunny-days').textContent = `${data.sunnyDays}天`;
        }

        // 根据天气描述获取对应的图标
        function getWeatherIcon(description) {
            if (description.includes('晴')) return '☀️';
            if (description.includes('多云')) return '⛅';
            if (description.includes('阴')) return '☁️';
            if (description.includes('雨')) return '🌧️';
            if (description.includes('雷')) return '⛈️';
            if (description.includes('雪')) return '🌨️';
            return '🌈';
        }
    </script>
</body>
</html>
